context:
  version: "0.0.4"

package:
  name: "soma-forge"
  version: ${{ version }}

build:
  noarch: generic
  script: |
    mkdir -p "$PREFIX/lib/python$PY_VER/site-packages"
    cp -a "$RECIPE_DIR/python/soma_forge" "$PREFIX/lib/python$PY_VER/site-packages"

requirements:
  host:
    - python
  
  run:
    - cmake
    - gcc
    - git
    - gxx
    - pytest
    - pip
    - pyaml
    - python
    - rattler-build >=0.13
    - six
    - sphinx
    - toml
    - libglu
    - mesalib-devel-only
    - mesa-libgl-devel-cos7-x86_64
    - virtualgl
    - libglvnd-devel-cos7-x86_64
    
# tests:
#   - python:
#       imports:
#         - soma_forge
#       pip_check: false

about:
  homepage: https://github.com/neurospin/neuro-forge
  summary: Development environment for soma-based software
